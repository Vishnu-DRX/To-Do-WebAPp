{"ast":null,"code":"import axios from \"axios\";\nvar Profile = function () {\n  var Db_Id = null;\n  var username = null;\n  var taskcount = 0;\n  var setTaskcount = function (count) {\n    taskcount = count;\n    sessionStorage.setItem(\"taskcount\", taskcount);\n  };\n  var getTaskcount = function () {\n    taskcount = sessionStorage.getItem(\"taskcount\");\n    if (taskcount == null) return 0;\n    return taskcount;\n  };\n  var setProfile = async function (Id) {\n    sessionStorage.setItem(\"id_key\", Id);\n    Db_Id = Id;\n    var UserId = {\n      \"id\": Id\n    };\n    await axios.post(`http://localhost:8000/getuser`, UserId).then(res => {\n      console.log(res);\n      username = res.data.foundUser.username;\n      console.log(username);\n      sessionStorage.setItem(\"username_key\", username);\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n      }\n    });\n  };\n  var getTasks = async function () {\n    var UserId = {\n      \"id\": Db_Id\n    };\n    var tasks = [];\n    await axios.post(`http://localhost:8000/getalltask`, UserId).then(res => {\n      tasks = res.data;\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n      }\n    });\n    return tasks;\n  };\n  var getId = function () {\n    Db_Id = sessionStorage.getItem(\"id_key\");\n    return Db_Id;\n  };\n  var getUsername = function () {\n    username = sessionStorage.getItem(\"username_key\");\n    return username;\n  };\n  var setId = function (Id) {\n    sessionStorage.setItem(\"id_key\", Id);\n    Db_Id = Id;\n  };\n  var setUsername = function (name) {\n    sessionStorage.setItem(\"username_key\", name);\n    username = name;\n  };\n  var clearProfile = function () {\n    sessionStorage.setItem(\"id_key\", null);\n    sessionStorage.setItem(\"username_key\", null);\n    Db_Id = null;\n    username = \"\";\n  };\n  return {\n    setProfile: setProfile,\n    getTasks: getTasks,\n    getId: getId,\n    setId: setId,\n    getUsername: getUsername,\n    setUsername: setUsername,\n    clearProfile: clearProfile,\n    setTaskcount: setTaskcount,\n    getTaskcount: getTaskcount\n  };\n}();\nexport default Profile;","map":{"version":3,"names":["axios","Profile","Db_Id","username","taskcount","setTaskcount","count","sessionStorage","setItem","getTaskcount","getItem","setProfile","Id","UserId","post","then","res","console","log","data","foundUser","catch","error","response","getTasks","tasks","getId","getUsername","setId","setUsername","name","clearProfile"],"sources":["W:/MERN/App_three/client/src/pages/Profile.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nvar Profile = (function () {\r\n    var Db_Id = null;\r\n    var username = null;\r\n    var taskcount=0;\r\n\r\n    var setTaskcount= function(count) {\r\n        taskcount=count;\r\n        sessionStorage.setItem(\"taskcount\", taskcount);\r\n    }\r\n\r\n    var getTaskcount= function() {\r\n        taskcount= sessionStorage.getItem(\"taskcount\");\r\n        if(taskcount==null)\r\n        return 0;\r\n        return taskcount;\r\n    }\r\n\r\n    var setProfile = async function (Id) {\r\n        sessionStorage.setItem(\"id_key\", Id);\r\n        Db_Id = Id;\r\n        \r\n        var UserId = { \"id\": Id};\r\n        await axios.post(`http://localhost:8000/getuser`, UserId)\r\n            .then(res => {\r\n                console.log(res);\r\n                username=res.data.foundUser.username;\r\n                console.log(username);\r\n                sessionStorage.setItem(\"username_key\", username);\r\n                \r\n            })\r\n            .catch(function (error) {if (error.response) {console.log(error.response.data);}});\r\n    };\r\n\r\n    var getTasks=async  function () {\r\n        var UserId = { \"id\": Db_Id };\r\n        var tasks=[];\r\n        await axios.post(`http://localhost:8000/getalltask`, UserId)\r\n          .then(res => {tasks=res.data;})\r\n          .catch(function (error) { if (error.response) { console.log(error.response.data); } });\r\n        return tasks;\r\n    };\r\n\r\n    var getId = function () { Db_Id = sessionStorage.getItem(\"id_key\"); return Db_Id; };\r\n    var getUsername = function () { username = sessionStorage.getItem(\"username_key\"); return username; };\r\n\r\n    var setId = function (Id) { sessionStorage.setItem(\"id_key\", Id); Db_Id = Id; };\r\n    var setUsername = function (name) { sessionStorage.setItem(\"username_key\", name); username = name; };\r\n\r\n    var clearProfile = function () { sessionStorage.setItem(\"id_key\", null);sessionStorage.setItem(\"username_key\", null);Db_Id = null; username = \"\"; };\r\n\r\n    return {\r\n        setProfile: setProfile,\r\n        getTasks: getTasks,\r\n        getId: getId,\r\n        setId: setId,\r\n        getUsername: getUsername,\r\n        setUsername: setUsername,\r\n        clearProfile: clearProfile,\r\n        setTaskcount: setTaskcount,\r\n        getTaskcount: getTaskcount\r\n    }\r\n\r\n})();\r\n\r\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}