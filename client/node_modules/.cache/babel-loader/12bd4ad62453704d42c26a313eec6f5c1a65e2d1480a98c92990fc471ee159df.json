{"ast":null,"code":"import axios from \"axios\";\nvar Profile = function () {\n  var Db_Id = null;\n  var username = null;\n  var taskcount = 0;\n  var setTaskcount = function (count) {\n    taskcount = count;\n    console.log(taskcount);\n  };\n  var getTaskcount = function () {\n    return taskcount;\n  };\n  var setProfile = async function (Id) {\n    sessionStorage.setItem(\"id_key\", Id);\n    Db_Id = Id;\n    var UserId = {\n      \"id\": Id\n    };\n    await axios.post(`http://localhost:8000/getuser`, UserId).then(res => {\n      console.log(res);\n      username = res.data.foundUser.username;\n      console.log(username);\n      sessionStorage.setItem(\"username_key\", username);\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n      }\n    });\n  };\n  var getTasks = async function () {\n    var UserId = {\n      \"id\": Db_Id\n    };\n    var tasks = [];\n    await axios.post(`http://localhost:8000/getalltask`, UserId).then(res => {\n      tasks = res.data;\n    }).catch(function (error) {\n      if (error.response) {\n        console.log(error.response.data);\n      }\n    });\n    return tasks;\n  };\n  var getId = function () {\n    Db_Id = sessionStorage.getItem(\"id_key\");\n    return Db_Id;\n  };\n  var getUsername = function () {\n    username = sessionStorage.getItem(\"username_key\");\n    return username;\n  };\n  var setId = function (Id) {\n    sessionStorage.setItem(\"id_key\", Id);\n    Db_Id = Id;\n  };\n  var setUsername = function (name) {\n    sessionStorage.setItem(\"username_key\", name);\n    username = name;\n  };\n  var clearProfile = function () {\n    sessionStorage.setItem(\"id_key\", null);\n    sessionStorage.setItem(\"username_key\", null);\n    Db_Id = null;\n    username = \"\";\n  };\n  return {\n    setProfile: setProfile,\n    getTasks: getTasks,\n    getId: getId,\n    setId: setId,\n    getUsername: getUsername,\n    setUsername: setUsername,\n    clearProfile: clearProfile,\n    setTaskcount: setTaskcount,\n    getTaskcount: getTaskcount\n  };\n}();\nexport default Profile;","map":{"version":3,"names":["axios","Profile","Db_Id","username","taskcount","setTaskcount","count","console","log","getTaskcount","setProfile","Id","sessionStorage","setItem","UserId","post","then","res","data","foundUser","catch","error","response","getTasks","tasks","getId","getItem","getUsername","setId","setUsername","name","clearProfile"],"sources":["W:/MERN/App_three/client/src/pages/Profile.js"],"sourcesContent":["import axios from \"axios\";\r\n\r\nvar Profile = (function () {\r\n    var Db_Id = null;\r\n    var username = null;\r\n    var taskcount=0;\r\n\r\n    var setTaskcount= function(count) {\r\n        taskcount=count;\r\n        console.log(taskcount);\r\n    }\r\n\r\n    var getTaskcount= function() {\r\n        return taskcount;\r\n    }\r\n\r\n    var setProfile = async function (Id) {\r\n        sessionStorage.setItem(\"id_key\", Id);\r\n        Db_Id = Id;\r\n        \r\n        var UserId = { \"id\": Id};\r\n        await axios.post(`http://localhost:8000/getuser`, UserId)\r\n            .then(res => {\r\n                console.log(res);\r\n                username=res.data.foundUser.username;\r\n                console.log(username);\r\n                sessionStorage.setItem(\"username_key\", username);\r\n                \r\n            })\r\n            .catch(function (error) {if (error.response) {console.log(error.response.data);}});\r\n    };\r\n\r\n    var getTasks=async  function () {\r\n        var UserId = { \"id\": Db_Id };\r\n        var tasks=[];\r\n        await axios.post(`http://localhost:8000/getalltask`, UserId)\r\n          .then(res => {tasks=res.data;})\r\n          .catch(function (error) { if (error.response) { console.log(error.response.data); } });\r\n        return tasks;\r\n    };\r\n\r\n    var getId = function () { Db_Id = sessionStorage.getItem(\"id_key\"); return Db_Id; };\r\n    var getUsername = function () { username = sessionStorage.getItem(\"username_key\"); return username; };\r\n\r\n    var setId = function (Id) { sessionStorage.setItem(\"id_key\", Id); Db_Id = Id; };\r\n    var setUsername = function (name) { sessionStorage.setItem(\"username_key\", name); username = name; };\r\n\r\n    var clearProfile = function () { sessionStorage.setItem(\"id_key\", null);sessionStorage.setItem(\"username_key\", null);Db_Id = null; username = \"\"; };\r\n\r\n    return {\r\n        setProfile: setProfile,\r\n        getTasks: getTasks,\r\n        getId: getId,\r\n        setId: setId,\r\n        getUsername: getUsername,\r\n        setUsername: setUsername,\r\n        clearProfile: clearProfile,\r\n        setTaskcount: setTaskcount,\r\n        getTaskcount: getTaskcount\r\n    }\r\n\r\n})();\r\n\r\nexport default Profile;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}